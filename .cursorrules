# PokéPack Opener プロジェクトルール

## ブランチ管理
- 作業ブランチはデフォルトブランチ（main/master/develop）から分岐する
- ブランチ名は機能や修正内容が分かるように命名する（例: `feature/pack-opening`, `fix/storage-issue`）

## 要件定義の参照
- 作業を開始する前に、必ず `requirements.md` を参照して要件を確認する
- 要件定義に記載されている機能仕様に従って実装する
- 要件定義にない機能を追加する場合は、事前に要件定義を更新する

## コードスタイル
- React の関数コンポーネントと Hooks を使用する
- コンポーネントは機能ごとに分割し、再利用可能な形で実装する
- コンポーネント名は PascalCase、ファイル名はコンポーネント名と一致させる
- 日本語コメントを使用する（プロジェクトが日本語ベースのため）

## API 使用時の注意事項
- Pokémon TCG API を使用する際は、適切なエラーハンドリングを実装する
- API リクエストには適切なタイムアウトとリトライロジックを設ける
- API キーや機密情報は環境変数で管理し、リポジトリにコミットしない
- API レスポンスの型定義を行う

## ローカルストレージの扱い
- ローカルストレージへの保存・読み込み時は try-catch でエラーハンドリングを行う
- ストレージが無効な場合（プライベートモードなど）のフォールバック処理を実装する
- データの整合性を保つため、保存前にバリデーションを行う

## GitHub Pages デプロイ
- GitHub Pages でホストするため、SPA のルーティング設定に注意する（404.html の設定など）
- ビルド成果物は `gh-pages` ブランチまたは `docs` フォルダに配置する
- 相対パスを使用する（`/` ではなく `./` を使用）

## UI/UX
- レスポンシブデザインを考慮し、モバイル・タブレット・デスクトップで適切に表示されるようにする
- アクセシビリティを考慮し、適切な ARIA ラベルやキーボード操作を実装する
- ローディング状態やエラー状態を適切に表示する

## パフォーマンス
- 画像の遅延読み込み（lazy loading）を実装する
- 不要な再レンダリングを防ぐため、React.memo や useMemo を適切に使用する
- API レスポンスは必要に応じてキャッシュする

## コミットメッセージ
- コミットメッセージは日本語で記述する
- 変更内容が明確に分かるように記述する（例: `feat: パック開封機能を実装`, `fix: ローカルストレージの保存エラーを修正`）

## テスト
- 可能な限りユニットテストを記述する
- 主要な機能（パック開封、コレクション保存など）は動作確認を行う

## セキュリティ
- XSS 対策のため、ユーザー入力や API レスポンスは適切にサニタイズする
- 外部 API を使用する際は CORS ポリシーに注意する
